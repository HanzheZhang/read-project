## 并发、并行
- 并发是指一个时间段内，有几个程序在同一个CPU上运行，但是任意时刻只有一个程序在CPU上运行
- 并行是指任意时刻点上，有多个程序同时运行在多个CPU上

## 同步、异步
- 同步是指代码调用IO操作时，必须等待IO操作完成才返回的调用方式
- 异步是指代码调用IO操作时，不必等待IO操作完成就返回的调用方式

## 阻塞、非阻塞
- 阻塞是指调用函数时候当前线程被挂起
- 非阻塞是指调用函数的时候当前线程不会被挂起，而是立即返回 

## C10K问题
- C10K是一个在1999年被提出来的技术挑战：如何在一颗1GHz，2G内存，1fbps网络环境下，让单台服务器同时为1万个客户提供FTP服务

# UNIX下五种I/O模型
- 阻塞式I/O：等待数据连接时线程阻塞，方便，占用cpu资源
- 非阻塞式I/O：recv阶段没有数据会立刻返回，不会等待数据占用线程，但是如果需要完成连接请求的话就需要不停的询问直到完成连接，依然占用cpu
- I/O复用：
    - select：阻塞式，可以同时监听多个socket
- 信号驱动式I/O：建立一个信号处理程序，操作系统在数据准备好时会发给应用层一个信号处理程序，程序将数据复制到用户空间
- 异步I/O：系统将数据复制到用户空间后再将信号发给处理程序

# select、poll、epoll
select、poll、epoll都是IO多路复用的机制。I/O多路复用就是通过机制，一个进程可以监视多个描述符，一旦某个描述符就绪，能偶通知程序进行相应的读写操作。但select、poll、epoll本质上都是同步I/O，因为它们都需要再读写时间就绪后自己负责进行读写，也就是说这个读写过程时阻塞的，而异步I/O则无需自己负责读写，异步I/O的实现会负责把数据从内核拷贝到用户空间
- select
    - 函数监视的文件描述符分3类，分别是wriefds、readfds和exceptfds。调用后select函数会阻塞，直到有描述符就绪或者超时，函数返回。当select函数返回后，可以通过遍历fdset来找到就绪的描述符。
    - select目前几乎在所有平台上支持，其良好的跨平台支持也是它的一个优点
    - select的一个缺点在于单个进程能够监视的文件描述符的数量存在最大限制，在Linux上一般是1024，可以通过修改宏定义甚至重新编译内核的方式提升这一限制，但是这样也会造成效率的降低
- poll
    - 不同于select使用三个位图来表示fdset的方式，poll使用一个pollfd的指针实现
    - pollfd结构包含了要监视的event和发生的event，不再使用select“参数-值”传递的方式。同时，pollfd并没有最大数量限制。和select函数一样，poll返回后，需要轮询pollfd来获取就绪的描述符
    - select和poll都需要在返回后，通过遍历文件描述符来获取已经就绪的socket。事实上，同时连接的大量客户端在一时刻可能只有很少的处于就绪状态，因此随着监视的描述符的增长，其效率也会线性下降
- epoll
    - epoll是在2.6内核中提出的，是之前select和poll的增强版。相对于select和poll来说，epoll更加灵活，没有描述符限制。epoll使用一个文件描述符管理多个描述符，将用户关系的文件描述符的事件存放到内核的一个事件比表中，这样子啊用户空间和内核空间的copy只需一次

1. epoll并不代表一定比select好
2. 在并发高的情况下，连接活跃度不是很高，epoll>select
3. 并发性不高，连接很活跃，select>epoll